<div class="form-group" ng-class="{'has-error' : form[field].$invalid && (form.$submitted || form[field].$dirty)}">

    <input ng-model="ngModel"
           typeahead-editable=":: typeaheadEditable"
           uib-typeahead="item as item.name for item in typeahead | filter:$viewValue"
           type="{{:: type }}"
           name="{{:: field }}"
           id="{{:: field }}"
           class="form-control"
           placeholder="{{:: placeholder }}"
           ng-required="required"
    />
    <div ng-messages="form[field].$error"
         ng-show="form.$submitted || form[field].$touched"
         class="help-block">
        <div ng-message="required">Field is required</div>
        <div ng-message="email">Not valid email</div>
    </div>
</div>